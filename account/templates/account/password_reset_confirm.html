{% extends 'homecenter/base.html' %}
{% load static %}

{% block title %}Initialisation du mot de passe{% endblock %}

{% block content %}
    <div class="col-12">
        <div id="messages" class="col-12 text-center mh-40">
            {% if form.errors%}
                    {% for error in form.errors.values %}
                        <p class="message text-center offset-2 col-8 rounded alert alert-danger">{{ error|striptags|safe}}</p>
                    {% endfor %}
                {% endif %}
                {% if messages %}
                    {% for message in messages %}
                        <p class="message text-center offset-2 col-8 rounded alert alert-info">{{ message }}</p>
                    {% endfor %}
                {% endif %}
        </div>
        <div id="user_admin_title" class="row col-12 justify-content-around">
            <div >
                <h2>Initialisation du nouveau mot de passe</h2>
                <hr class="col-4">
            </div>
        </div>
        <div class="row col-12 justify-content-around">
            <div class="fields">
                {% if validlink %}
                    <form method="post">
                        {% csrf_token %}
                        <label for="id_new_password1">Nouveau mot de passe:</label>
                        <input class="form-control" type="password" id="id_new_password1" name="new_password1" placeholder="Mot de passe" autocomplete="new-password" required="">
                        <br>
                        <label for="id_new_password2">Confirmation du nouveau mot de passe:</label>
                        <input class="form-control" type="password" id="id_new_password2" name="new_password2" placeholder="Mot de passe" required="">
                        <br>
                        <input type="submit" value="Valider"/><br><br>
                    </form>
                {% else %}
                    <p>
                    Le lien de réinitialisation du mot de passe n'était pas valide, peut-être parce qu'il a déjà été utilisé.<br>
                    Veuillez réitérer l'initialisation du mot de passe.
                    </p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
